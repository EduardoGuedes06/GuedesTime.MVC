@using GuedesTime.MVC.Extensions
@model GuedesTime.MVC.ViewModels.PainelViewModel

@{
	ViewData["Title"] = "Painel de Controle";
}
<section id="dashboard" class="content-section active">
    <div class="dashboard-header">
        <div>
            <h2 class="section-title">Painel de Comando</h2>
            <p class="section-subtitle" style="margin-top: -16px;">
                Bem-vindo(a) de volta! Aqui está um
                resumo da sua instituição.
            </p>
        </div>
        <div class="header-date" id="current-date"></div>
    </div>

    <div class="kpi-grid">
        <div class="card kpi-card kpi-success">
            <div class="kpi-icon"><i class="fas fa-check-circle"></i></div>
            <div class="kpi-content">
                <span class="kpi-value">5</span>
                <span class="kpi-label">Planos de Aula Ativos</span>
            </div>
        </div>
        <div class="card kpi-card kpi-danger">
            <div class="kpi-icon"><i class="fas fa-exclamation-triangle"></i></div>
            <div class="kpi-content">
                <span class="kpi-value">2</span>
                <span class="kpi-label">Conflitos a Resolver</span>
            </div>
            <a href="#" class="kpi-action">Resolver Agora <i class="fas fa-arrow-right"></i></a>
        </div>
        <div class="card kpi-card">
            <div class="kpi-icon"><i class="fas fa-chalkboard-teacher"></i></div>
            <div class="kpi-content">
                <span class="kpi-value">47</span>
                <span class="kpi-label">Professores Cadastrados</span>
            </div>
        </div>
        <div class="card kpi-card">
            <div class="kpi-icon"><i class="fas fa-users"></i></div>
            <div class="kpi-content">
                <span class="kpi-value">18</span>
                <span class="kpi-label">Turmas Gerenciadas</span>
            </div>
        </div>
    </div>

    <div class="dashboard-main-content">
        <div class="workflow-column">
            <div class="card detailed-progress-card">
                <h3 class="card-title">Checklist de Preparação da Grade</h3>
                <p class="section-subtitle" style="margin-top:-12px; margin-bottom: 20px;">
                    Siga estas etapas
                    para habilitar a geração de uma nova grade horária.
                </p>
                <ul class="progress-checklist">
                    <li class="checklist-item status-complete">
                        <div class="item-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="item-content">
                            <h4>Cadastros Básicos (100%)</h4>
                            <div class="progress-bar-container mini">
                                <div class="progress-bar-fill" style="width: 100%;"></div>
                            </div>
                        </div>
                    </li>
                    <li class="checklist-item status-pending">
                        <div class="item-icon"><i class="fas fa-sync-alt fa-spin"></i></div>
                        <div class="item-content">
                            <h4>Vínculos Essenciais (75%)</h4>
                            <div class="progress-bar-container mini">
                                <div class="progress-bar-fill" style="width: 75%;"></div>
                            </div>
                        </div>
                        <div class="item-action">
                            <a href="#" class="btn secondary-btn btn-sm"
                               data-section="subjects">Continuar</a>
                        </div>
                    </li>
                    <li class="checklist-item status-danger">
                        <div class="item-icon"><i class="fas fa-exclamation-triangle"></i></div>
                        <div class="item-content">
                            <h4>Restrições e Disponibilidade (10%)</h4>
                            <div class="progress-bar-container mini">
                                <div class="progress-bar-fill" style="width: 10%;"></div>
                            </div>
                        </div>
                        <div class="item-action">
                            <a href="#" class="btn secondary-btn btn-sm"
                               data-section="teachers">Configurar</a>
                        </div>
                    </li>
                </ul>
                <div class="card-footer-progress">
                    <button class="btn success-btn" disabled
                            title="Complete as etapas para gerar a grade">
                        <i class="fas fa-magic"></i> Gerar
                        Grade Horária
                    </button>
                </div>
            </div>
        </div>

        <div class="alerts-column">
            <div class="card">
                <h3 class="card-title">Alertas e Pendências</h3>
                <div class="alert-item">
                    <div class="alert-icon alert-warning"><i class="fas fa-user-clock"></i></div>
                    <div class="alert-content">
                        <strong>Disponibilidade Pendente</strong>
                        <span>3 professores ainda não definiram seus horários.</span>
                    </div>
                </div>
                <div class="alert-item">
                    <div class="alert-icon alert-danger"><i class="fas fa-building"></i></div>
                    <div class="alert-content">
                        <strong>Turmas sem Sala</strong>
                        <span>A turma '9º Ano B' não possui uma sala fixa atribuída.</span>
                    </div>
                </div>
            </div>
            <div class="card">
                <h3 class="card-title">Próximos Feriados</h3>
                <div class="alert-item">
                    <div class="alert-icon alert-info"><i class="fas fa-calendar-alt"></i></div>
                    <div class="alert-content">
                        <strong>Independência do Brasil</strong>
                        <span>07 de Setembro de 2025</span>
                    </div>
                </div>
                <div class="alert-item">
                    <div class="alert-icon alert-info"><i class="fas fa-calendar-alt"></i></div>
                    <div class="alert-content">
                        <strong>N. Sra. Aparecida</strong>
                        <span>12 de Outubro de 2025</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="recent-activity-section">
        <h3 class="section-title">Atividade Recente dos Planos de Aula</h3>
        <div class="card">
            <div class="table-responsive">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Versão</th>
                            <th>Data de Criação</th>
                            <th>Status</th>
                            <th>Criado Por</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>2025.1.5-final</strong></td>
                            <td>01/07/2025</td>
                            <td><span class="badge status-approved">Aprovado</span></td>
                            <td>Admin</td>
                            <td class="actions-cell">
                                <button class="btn-icon">
                                    <i class="fas fa-eye"></i>
                                </button><button class="btn-icon">
                                    <i class="fas fa-file-export"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>2025.1.4-beta</strong></td>
                            <td>28/06/2025</td>
                            <td><span class="badge status-conflicted">Conflito</span></td>
                            <td>Admin</td>
                            <td class="actions-cell">
                                <button class="btn-icon">
                                    <i class="fas fa-eye"></i>
                                </button><button class="btn-icon">
                                    <i class="fas fa-file-export"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>2025.1.3-rev</strong></td>
                            <td>25/06/2025</td>
                            <td><span class="badge status-pending">Em Revisão</span></td>
                            <td>Admin</td>
                            <td class="actions-cell">
                                <button class="btn-icon">
                                    <i class="fas fa-eye"></i>
                                </button><button class="btn-icon">
                                    <i class="fas fa-file-export"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>